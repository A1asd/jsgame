<canvas height="500" width="700"></canvas>
<p id="motd"></p><button onclick="pingServer()"></button><p id="ping"></p>

<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
<script>
	var socket = io();

	socket.emit('happy', {reason:'im happy'});
	socket.on('serverMsg', function(data) {
		document.getElementById("motd").innerHTML = data.msg;
	});

	var latency = 0;
	function pingServer() {
		socket.emit('pingRequest');
		pingstart = new Date();
		console.log(latency);
	}

	socket.on('pingResponse', function() {
		let pingend = new Date();
		let latency = pingend - pingstart;
		document.getElementById('ping').innerHTML = latency;
	})
	
</script>
